# PushToTalk - Voice-to-Text for macOS

<div align="center">

üé§ **–õ–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–ª—è Apple Silicon (M1/M2/M3)**

[![Platform](https://img.shields.io/badge/platform-macOS%2014%2B-blue)]()
[![Swift](https://img.shields.io/badge/Swift-6.2-orange)]()
[![License](https://img.shields.io/badge/license-MIT-green)]()

</div>

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üé§ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Menu Bar** - –ß–∏—Å—Ç—ã–π –Ω–∞—Ç–∏–≤–Ω—ã–π macOS –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚å®Ô∏è **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏** - F13-F19, Right Cmd/Option/Control
- ü™ü **Liquid Glass UI** - –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º —Å—Ç–µ–∫–ª–∞
- üß† **WhisperKit Integration** - OpenAI Whisper –Ω–∞ Apple Neural Engine
- üöÄ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Apple Silicon** - Metal —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –Ω—É–ª–µ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è
- üìù **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞** - –¢–µ–∫—Å—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ–∑–∏—Ü–∏–∏ –∫—É—Ä—Å–æ—Ä–∞
- üõë **–°—Ç–æ–ø-—Å–ª–æ–≤–æ "–æ—Ç–º–µ–Ω–∞"** - –°–±—Ä–æ—Å –∑–∞–ø–∏—Å–∏ –Ω–∞ –ª–µ—Ç—É
- üîä **–ó–≤—É–∫–æ–≤–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–≤—É–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- üåç **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –†—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤
- ‚ö° **–ë—ã—Å—Ç—Ä–æ –∏ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ** - –ù–∞—Ç–∏–≤–Ω—ã–π Swift, –±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ Python
- üéß **Smart Audio Ducking** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≥–ª—É—à–µ–Ω–∏–µ –º—É–∑—ã–∫–∏ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏
- üìÅ **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Ñ–∞–π–ª–æ–≤** - Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ —Å –¥–∏–∞–ª–æ–≥–æ–≤—ã–º —Ä–µ–∂–∏–º–æ–º
- üé≠ **–°—Ç–µ—Ä–µ–æ –¥–∏–∞–ª–æ–≥–∏** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –¥–≤—É—Ö —Å–ø–∏–∫–µ—Ä–æ–≤ (–ª–µ–≤—ã–π/–ø—Ä–∞–≤—ã–π –∫–∞–Ω–∞–ª)
- üìä **Timeline View** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- üéØ **Voice Activity Detection (VAD)** - 7+ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã
- üéµ **Audio Player** - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–µ–µ—Ä –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ù–∞–∂–º–∏—Ç–µ F16** (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –≥–æ—Ä—è—á—É—é –∫–ª–∞–≤–∏—à—É) - –ø–æ—è–≤–∏—Ç—Å—è –æ–∫–Ω–æ —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π
2. **–ì–æ–≤–æ—Ä–∏—Ç–µ** - –≤–∏–¥–∏—Ç–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
3. **–°–∫–∞–∂–∏—Ç–µ "–æ—Ç–º–µ–Ω–∞"** - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ (–±—É—Ñ–µ—Ä —Å–±—Ä–æ—Å–∏—Ç—Å—è)
4. **–û—Ç–ø—É—Å—Ç–∏—Ç–µ F16** - —Ç–µ–∫—Å—Ç –≤—Å—Ç–∞–≤–∏—Ç—Å—è –≤ –ø–æ–∑–∏—Ü–∏—é –∫—É—Ä—Å–æ—Ä–∞, –æ–∫–Ω–æ –∏—Å—á–µ–∑–Ω–µ—Ç

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- **Liquid Glass —ç—Ñ—Ñ–µ–∫—Ç** - –∫—Ä–∞—Å–∏–≤–æ–µ —Ä–∞–∑–º—ã—Ç–æ–µ —Å—Ç–µ–∫–ª–æ –ø–æ Apple Design Guidelines
- **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, –±–µ–∑ –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ü—É–ª—å—Å–∏—Ä—É—é—â–∞—è —Ç–æ—á–∫–∞ –∑–∞–ø–∏—Å–∏** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ** - –æ–∫–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**PushToTalk** –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| –Ø–∑—ã–∫ | Swift 6.2 |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | Clean Architecture + MVVM + Coordinator |
| ML Framework | WhisperKit (MLX-based) |
| –ê—É–¥–∏–æ | AVFoundation |
| –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ | Carbon Event Manager API |
| UI | SwiftUI + AppKit |
| DI | ServiceContainer (Protocol-based) |
| –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è | EN/RU (—Ä–∞—Å—à–∏—Ä—è–µ–º–æ) |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | XCTest (32 unit tests, 100% pass rate) |
| –°–±–æ—Ä–∫–∞ | Swift Package Manager |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **Clean Architecture** - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (Presentation, Domain, Data)
- **SOLID Principles** - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ª–µ–¥—É—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID
- **Protocol-Oriented** - –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã
- **Dependency Injection** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π ServiceContainer
- **MVVM Pattern** - ViewModels –¥–ª—è –≤—Å–µ—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Coordinator Pattern** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- **Async/Await** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Swift Concurrency –≤–º–µ—Å—Ç–æ callbacks

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- macOS 14.0 (Sonoma) –∏–ª–∏ –Ω–æ–≤–µ–µ
- Apple Silicon (M1/M2/M3)
- Xcode Command Line Tools

### –°–±–æ—Ä–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/jorikfon/PushToTalk.git
cd PushToTalk

# –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
swift build

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ .app bundle
./build_app.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
open build/PushToTalk.app
```

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ macOS –∑–∞–ø—Ä–æ—Å–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

1. **–ú–∏–∫—Ä–æ—Ñ–æ–Ω** - –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏–æ
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ú–∏–∫—Ä–æ—Ñ–æ–Ω
   - ‚úÖ –í–∫–ª—é—á–∏—Ç–µ **PushToTalk**

2. **Accessibility** - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
   - ‚úÖ –í–∫–ª—é—á–∏—Ç–µ **PushToTalk**

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ F-–∫–ª–∞–≤–∏—à (F13-F19) Accessibility –ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Carbon API!

---

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Menu Bar

–ù–∞–π–¥–∏—Ç–µ –∏–∫–æ–Ω–∫—É **üé§** –≤ menu bar (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª):

- **üé§** - –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø–∏—Å–∏
- **üé§ (filled)** - –ò–¥–µ—Ç –∑–∞–ø–∏—Å—å
- **‚öôÔ∏è** - –ò–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞

**–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É** —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ Whisper (Tiny/Base/Small/Medium/Large)
- –í—ã–±–æ—Ä –≥–æ—Ä—è—á–µ–π –∫–ª–∞–≤–∏—à–∏ (F13-F19, Right Cmd/Option/Control)
- Multilingual —Ä–µ–∂–∏–º (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ EarPods –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ (drag & drop –∏–ª–∏ —Ñ–∞–π–ª–æ–≤—ã–π –¥–∏–∞–ª–æ–≥)
- –í—ã–±–æ—Ä VAD –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (Spectral/Adaptive/Standard)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–ª–æ–≤–∞—Ä–µ–π
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø–∏—Å–∏
- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞

### –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Ñ–∞–π–ª–æ–≤

Drag & drop –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã:
- **Mono —Ñ–∞–π–ª—ã** - –û–±—ã—á–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
- **Stereo —Ñ–∞–π–ª—ã** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –¥–∏–∞–ª–æ–≥ (Speaker 1 / Speaker 2)
- **Timeline View** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- **VAD —Ä–µ–∂–∏–º—ã** - Voice Activity Detection –∏–ª–∏ Batch (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞–Ω–∫–∏)
- **7+ VAD –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤** - Spectral (FFT), Adaptive (–ø–æ—Ä–æ–≥), Standard (—ç–Ω–µ—Ä–≥–∏—è)
- **Audio Player** - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–ø–ª–∏–∫–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ** - –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ —Ç–∏—à–∏–Ω—ã (>2 —Å–µ–∫)

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: **F16**

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:
- **F13-F19** - –ù–µ —Ç—Ä–µ–±—É—é—Ç Accessibility —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π!
- **Right Command** - –ü—Ä–∞–≤—ã–π ‚åò
- **Right Option** - –ü—Ä–∞–≤—ã–π ‚å•
- **Right Control** - –ü—Ä–∞–≤—ã–π ‚åÉ

### –ö–æ–º–∞–Ω–¥–∞ "–æ—Ç–º–µ–Ω–∞"

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:

1. –°–¥–µ–ª–∞–π—Ç–µ **–ø–∞—É–∑—É**
2. –°–∫–∞–∂–∏—Ç–µ **"–æ—Ç–º–µ–Ω–∞"**
3. –ë—É—Ñ–µ—Ä —Å–±—Ä–æ—Å–∏—Ç—Å—è, —Ç–µ–∫—Å—Ç –æ—á–∏—Å—Ç–∏—Ç—Å—è
4. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç—å –∑–∞–Ω–æ–≤–æ

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—É—Å—Ç–∏—Ç–µ F16 –ø–æ—Å–ª–µ "–æ—Ç–º–µ–Ω–∞" - —Ç–µ–∫—Å—Ç –Ω–µ –≤—Å—Ç–∞–≤–∏—Ç—Å—è.

### –ó–≤—É–∫–æ–≤–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

- **Pop** üéµ - –ó–∞–ø–∏—Å—å –Ω–∞—á–∞–ª–∞—Å—å
- **Tink** üîî - –ó–∞–ø–∏—Å—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ / –æ—Ç–º–µ–Ω–∞
- **Glass** ‚ú® - –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
- **Basso** ‚ùå - –û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
PushToTalk/
‚îú‚îÄ‚îÄ Package.swift                          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Swift Package Manager
‚îú‚îÄ‚îÄ build_app.sh                           # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ .app bundle
‚îú‚îÄ‚îÄ Sources/
‚îÇ   ‚îú‚îÄ‚îÄ App/                               # üéØ Application Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PushToTalkApp.swift           # @main —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppDelegate.swift              # –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppCoordinator.swift          # –ì–ª–∞–≤–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ServiceContainer.swift         # DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (Protocol-based)
‚îÇ   ‚îú‚îÄ‚îÄ Coordinators/                      # üß≠ Coordinators
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RecordingCoordinator.swift    # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SettingsCoordinator.swift     # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ Presentation/                      # üé® Presentation Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ViewModels/                   # MVVM ViewModels
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SettingsViewModel.swift  # ViewModel –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Views/                        # SwiftUI Views
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MenuBar/
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ MenuBarController.swift
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Settings/                 # –ú–æ–¥—É–ª—å–Ω—ã–µ Settings Views
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ GeneralSettingsView.swift
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ModelSettingsView.swift
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ HotkeySettingsView.swift
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ VocabularySettingsView.swift
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AudioSettingsView.swift
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ HistorySettingsView.swift
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ DebugSettingsView.swift
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Components/               # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Services/                          # üîß Services Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Protocols/                    # Service Protocols
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AudioCaptureServiceProtocol.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WhisperServiceProtocol.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TextInserterProtocol.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VocabularyManagerProtocol.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Implementation/               # Service Implementations
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AudioCaptureService.swift
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ WhisperService.swift
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ KeyboardMonitor.swift
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ TextInserter.swift
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ AlertService.swift
‚îÇ   ‚îú‚îÄ‚îÄ Managers/                          # üì¶ Managers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Protocols/                    # Manager Protocols
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelManagerProtocol.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HotkeyManagerProtocol.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AudioDeviceManagerProtocol.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Implementation/               # Manager Implementations
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ModelManager.swift
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ HotkeyManager.swift
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AudioDeviceManager.swift
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PermissionManager.swift
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ NotificationManager.swift
‚îÇ   ‚îî‚îÄ‚îÄ Utils/                             # üõ†Ô∏è Utilities
‚îÇ       ‚îú‚îÄ‚îÄ Constants/                    # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AppConstants.swift
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ UIConstants.swift
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Strings.swift            # –õ–æ–∫–∞–ª–∏–∑—É–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ Extensions/                   # Swift Extensions
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ String+Extensions.swift
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Array+Extensions.swift
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ View+Extensions.swift
‚îÇ       ‚îú‚îÄ‚îÄ Audio/                        # Audio —É—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ SpectralVAD.swift
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AdaptiveVAD.swift
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ SilenceDetector.swift
‚îÇ       ‚îú‚îÄ‚îÄ Media/                        # Media —É—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ SoundManager.swift
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AudioDuckingManager.swift
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ MediaRemoteManager.swift
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ AudioPlayerManager.swift
‚îÇ       ‚îî‚îÄ‚îÄ Helpers/                      # –•–µ–ª–ø–µ—Ä—ã
‚îÇ           ‚îú‚îÄ‚îÄ LogManager.swift
‚îÇ           ‚îú‚îÄ‚îÄ UserSettings.swift
‚îÇ           ‚îú‚îÄ‚îÄ TranscriptionHistory.swift
‚îÇ           ‚îî‚îÄ‚îÄ VocabularyDictionaries.swift
‚îú‚îÄ‚îÄ Resources/                             # üì¶ Resources
‚îÇ   ‚îú‚îÄ‚îÄ Info.plist
‚îÇ   ‚îú‚îÄ‚îÄ PushToTalk.entitlements
‚îÇ   ‚îú‚îÄ‚îÄ AppIcon.icns
‚îÇ   ‚îî‚îÄ‚îÄ Localization/                     # üåç –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (EN/RU)
‚îÇ       ‚îú‚îÄ‚îÄ en.lproj/Localizable.strings
‚îÇ       ‚îî‚îÄ‚îÄ ru.lproj/Localizable.strings
‚îú‚îÄ‚îÄ Tests/                                 # ‚úÖ Unit Tests
‚îÇ   ‚îî‚îÄ‚îÄ PushToTalkTests/
‚îÇ       ‚îú‚îÄ‚îÄ CoordinatorTests/             # –¢–µ—Å—Ç—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–≤
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ RecordingCoordinatorTests.swift (18 tests)
‚îÇ       ‚îú‚îÄ‚îÄ ViewModelTests/               # –¢–µ—Å—Ç—ã ViewModels
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ SettingsViewModelTests.swift (14 tests)
‚îÇ       ‚îî‚îÄ‚îÄ Mocks/                        # Mock –æ–±—ä–µ–∫—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ MockWhisperService.swift
‚îÇ           ‚îú‚îÄ‚îÄ MockAudioCaptureService.swift
‚îÇ           ‚îú‚îÄ‚îÄ MockTextInserter.swift
‚îÇ           ‚îú‚îÄ‚îÄ MockVocabularyManager.swift
‚îÇ           ‚îî‚îÄ‚îÄ MockModelManager.swift
‚îî‚îÄ‚îÄ CLAUDE.md                             # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–µ–ª–∏ —Å–±–æ—Ä–∫–∏

```bash
# –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
swift build --product PushToTalkSwift

# –¢–µ—Å—Ç–æ–≤—ã–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã
swift build --product AudioCaptureTest      # –¢–µ—Å—Ç –∑–∞—Ö–≤–∞—Ç–∞ –∞—É–¥–∏–æ
swift build --product KeyboardMonitorTest   # –¢–µ—Å—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ F16
swift build --product TextInserterTest      # –¢–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞
swift build --product IntegrationTest       # –ü–æ–ª–Ω—ã–π pipeline —Ç–µ—Å—Ç
swift build --product PerformanceBenchmark  # –ë–µ–Ω—á–º–∞—Ä–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
swift build --product VADTest               # –¢–µ—Å—Ç VAD –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# Unit —Ç–µ—Å—Ç—ã (32 —Ç–µ—Å—Ç–∞, 100% pass rate)
swift test

# –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–∞–±–æ—Ä–æ–≤
swift test --filter RecordingCoordinatorTests  # 18 —Ç–µ—Å—Ç–æ–≤
swift test --filter SettingsViewModelTests     # 14 —Ç–µ—Å—Ç–æ–≤

# –¢–µ—Å—Ç —Å –≤—ã–≤–æ–¥–æ–º
swift test --verbose
```

### –ú–µ—Ç—Ä–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 32
- **Success rate**: 100%
- **Coverage**: ~30% –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Execution time**: ~1.5 —Å–µ–∫—É–Ω–¥—ã

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:**
- RecordingCoordinatorTests (18) - –¢–µ—Å—Ç—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ –∑–∞–ø–∏—Å–∏
- SettingsViewModelTests (14) - –¢–µ—Å—Ç—ã ViewModel –Ω–∞—Å—Ç—Ä–æ–µ–∫
- 5 Mock –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–í—Å–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Console.app —Å subsystem `com.pushtotalk.app`:

```bash
# Real-time –ª–æ–≥
log stream --predicate 'subsystem == "com.pushtotalk.app"' --level debug

# –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
log stream --predicate 'subsystem == "com.pushtotalk.app" && category == "keyboard"'

# –ü–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
log show --predicate 'subsystem == "com.pushtotalk.app"' --last 1h

# –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª
log show --predicate 'subsystem == "com.pushtotalk.app"' --last 1h > logs.txt
```

### –ß–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞

```bash
swift package clean
swift build
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Audio Pipeline

1. **Capture** - AVAudioEngine –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω (–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)
2. **Convert** - AVAudioConverter —Ä–µ—Å–µ–º–ø–ª–∏—Ä—É–µ—Ç –≤ 16000 Hz mono Float32
3. **Buffer** - –ê—É–¥–∏–æ —Å—ç–º–ø–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ Float32 –º–∞—Å—Å–∏–≤
4. **Real-time** - –ß–∞–Ω–∫–∏ –ø–æ 2 —Å–µ–∫—É–Ω–¥—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é
5. **Process** - WhisperKit –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä

### Whisper Integration

- **–ú–æ–¥–µ–ª–∏**: Tiny (~150 MB), Base (~300 MB), Small (~600 MB), Medium (~1.5 GB), Large (~3 GB)
- **Framework**: WhisperKit (MLX-based)
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**: Apple Neural Engine + GPU (Metal)
- **–§–æ—Ä–º–∞—Ç**: 16kHz mono Float32
- **–°–∫–æ—Ä–æ—Å—Ç—å**: ~5-10x —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ M1 Max
- **Multilingual**: –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

**–î–≤–∞ –º–µ—Ç–æ–¥–∞**:

1. **Carbon Event Manager** (–æ—Å–Ω–æ–≤–Ω–æ–π, –¥–ª—è F13-F19)
   - `RegisterEventHotKey` API
   - –ù–ï —Ç—Ä–µ–±—É–µ—Ç Accessibility —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
   - –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å F-–∫–ª–∞–≤–∏—à–∞–º–∏ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏
   - –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π, –º–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

2. **CGEvent Tap** (fallback, –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–ª–∞–≤–∏—à)
   - –ì–ª–æ–±–∞–ª—å–Ω—ã–π event tap
   - –¢—Ä–µ–±—É–µ—Ç Accessibility —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏

### –í—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞

–î–≤–∞ –º–µ—Ç–æ–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:

1. **Clipboard + Cmd+V** (–æ—Å–Ω–æ–≤–Ω–æ–π)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π clipboard
   - –ö–æ–ø–∏—Ä—É–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é
   - –°–∏–º—É–ª–∏—Ä—É–µ—Ç Cmd+V —á–µ—Ä–µ–∑ CGEvent
   - –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç clipboard —á–µ—Ä–µ–∑ 300ms

2. **Accessibility API** (fallback)
   - –ü—Ä—è–º–∞—è –≤—Å—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ AXUIElement
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ clipboard –º–µ—Ç–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Audio Ducking

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≥–ª—É—à–∞–µ—Ç –º—É–∑—ã–∫—É –Ω–∞ 50% –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∑–∞–ø–∏—Å–∏
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `kAudioDevicePropertyVolumeScalar`

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ë–µ–Ω—á–º–∞—Ä–∫–∏ (M1 Max, Whisper Tiny)

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –†–∞–∑–º–µ—Ä .app | ~4.7 MB |
| –†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ | ~150 MB (Tiny) |
| –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç | ~2-3 —Å–µ–∫—É–Ω–¥—ã (–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏) |
| –¢–µ–ø–ª—ã–π —Å—Ç–∞—Ä—Ç | <1 —Å–µ–∫—É–Ω–¥—ã |
| –ü–∞–º—è—Ç—å –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è | ~90 MB |
| –ü–∞–º—è—Ç—å –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ | ~120 MB |
| –ü–∞–º—è—Ç—å –ø—Ä–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ | ~200 MB (–ø–∏–∫) |
| –°–∫–æ—Ä–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ | ~5-10x —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ |
| Real-Time Factor (RTF) | ~0.1-0.2 |

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏

–ü–æ–ª–Ω—ã–µ –±–µ–Ω—á–º–∞—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `Experiments/`:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
.build/debug/ModelComparison
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–±–æ—Ä–∫—É: `swift build`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é: `.build/debug/PushToTalkSwift`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏:
   ```bash
   log show --predicate 'subsystem == "com.pushtotalk.app"' --last 5m
   ```

### "This process is not trusted"

–ù–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ! –î–æ–±–∞–≤—å—Ç–µ Accessibility —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:
1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
2. –ù–∞–∂–º–∏—Ç–µ `+` ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ `.build/debug/PushToTalkSwift`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ê—É–¥–∏–æ –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –≤ –°–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
2. –¢–µ—Å—Ç —Å AudioCaptureTest: `.build/debug/AudioCaptureTest`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   log stream --predicate 'subsystem == "com.pushtotalk.app" && category == "audio"'
   ```

### –¢–µ–∫—Å—Ç –Ω–µ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Accessibility —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫—É—Ä—Å–æ—Ä –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ–ª–µ
3. –¢–µ—Å—Ç —Å TextInserterTest: `.build/debug/TextInserterTest`

### F16 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   log stream --predicate 'subsystem == "com.pushtotalk.app" && category == "keyboard"'
   ```
2. Carbon API –ù–ï —Ç—Ä–µ–±—É–µ—Ç Accessibility –¥–ª—è F13-F19
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ F16 –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ –¥—Ä—É–≥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é F-–∫–ª–∞–≤–∏—à—É (F13-F19)

### –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å Hugging Face)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Metal GPU:
   ```bash
   log stream --predicate 'subsystem == "com.pushtotalk.app" && category == "transcription"'
   ```
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à: `~/Library/Caches/whisperkit_models/`
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å (Tiny —Å–∞–º–∞—è –º–∞–ª–µ–Ω—å–∫–∞—è)

---

## üéØ Roadmap

### –ó–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ
- [x] –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ WhisperKit –∏ proof-of-concept
- [x] –ó–∞—Ö–≤–∞—Ç –∞—É–¥–∏–æ (AVFoundation)
- [x] –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è Whisper (WhisperKit)
- [x] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ F16 (Carbon API + CGEvent)
- [x] –í—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ (Clipboard + Accessibility)
- [x] Menu bar UI (SwiftUI + AppKit)
- [x] Liquid Glass –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ
- [x] –ó–≤—É–∫–æ–≤–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
- [x] –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ (F13-F19, Right Cmd/Option/Control)
- [x] –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ Whisper (Tiny/Base/Small/Medium/Large)
- [x] Multilingual —Ä–µ–∂–∏–º
- [x] Real-time —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
- [x] –°—Ç–æ–ø-—Å–ª–æ–≤–æ "–æ—Ç–º–µ–Ω–∞"
- [x] Audio ducking (–ø—Ä–∏–≥–ª—É—à–µ–Ω–∏–µ –º—É–∑—ã–∫–∏)
- [x] –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (OSLog)
- [x] .app bundle —Å–±–æ—Ä–∫–∞
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ EarPods –ø–æ–¥—Å–∫–∞–∑–∫–∏
- [x] Batch —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- [x] –°—Ç–µ—Ä–µ–æ –¥–∏–∞–ª–æ–≥–∏ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ø–∏–∫–µ—Ä–æ–≤
- [x] Voice Activity Detection (7+ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤)
- [x] Timeline View –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤ (—É–¥–∞–ª–µ–Ω–∏–µ —Ç–∏—à–∏–Ω—ã)
- [x] –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π audio player
- [x] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–ª–æ–≤–∞—Ä–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- [x] –ü–æ–∫–∞–∑ –≤ Dock –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–∫–Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ üìã
- [ ] Code signing & notarization
- [ ] DMG installer
- [ ] Auto-update (Sparkle)
- [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π UI
- [ ] Homebrew Cask distribution
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ VAD
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è Pull Request'—ã!

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. Push –≤ branch
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - See LICENSE file for details

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- **WhisperKit** by Argmax Inc. - –û—Ç–ª–∏—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Whisper –¥–ª—è Apple Silicon
- **OpenAI Whisper** - –ü–µ—Ä–µ–¥–æ–≤–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
- **Apple MLX** - ML —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Apple Silicon
- **Claude Code** - –ü–æ–º–æ—â—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –ø—Ä–æ–±–ª–µ–º–∞–º:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `CLAUDE.md`
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ `log stream`
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub

---

<div align="center">

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –∏—Å–ø–æ–ª—å–∑—É—è Swift –∏ WhisperKit**

üé§ –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞! ‚ú®

</div>
